<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Страница товара</title>
    <link rel="stylesheet" href="assets/styles/product.css">
    <link rel="stylesheet" href="assets/styles/header-footer.css">
</head>
<body>

    <header class="main-header">
        <!-- Левая группа -->
        <div class="left-group">
            <div class="burger-menu">
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>
            <div class="logo">
                <a href="/home"><img src="assets/icons/header/mollen.png" alt="Logo"></a>
            </div>
            <div class="catalog">
                <a href="/catalog__2_1.html">КАТАЛОГ</a>
            </div>
        </div>
    
        <!-- Правая группа -->
        <div class="right-group">
            <div class="search-icon">
                <!-- Иконка для полной версии -->
                <a href="/search" class="full-screen-icon">
                    
                    <span>ПОИСК</span>
                </a>
                <!-- Иконка для мобильной версии -->
                <a href="/search" class="mobile-icon">
                    <img src="assets/icons/header/search.png" alt="Search">
                </a>
            </div>
            <div class="bed-icon">
                <!-- Иконка для полной версии -->
                <a href="/bed" class="full-screen-icon">
                    <img src="assets/icons/header/bed-full.png" alt="Bed">
                    <span>КОНСТРУКТОР</span>
                </a>
                <!-- Иконка для мобильной версии -->
                <a href="/bed" class="mobile-icon">
                    <img src="assets/icons/header/bed.png" alt="Bed">
                </a>
            </div>
            <div class="shopping-bag">
                <a href="/checkout.html">
                    <img src="assets/icons/header/shopping_bag2.png" alt="Shopping Bag">
                </a>
                <span class="circle"></span>
            </div>
        </div>
    </header>

    <div id="side-menu" class="side-menu">
        <button id="close-menu-btn" class="close-btn">
            <img src="assets/icons/header/close.png" alt="Close">
        </button>
        <p class="menu-title">Меню</p>
        <ul>
            <li>РАЗМЕРНЫЙ ГИД</li>
            <li>ДОСТАВКА И ОПЛАТА</li>
            <li>ГАРАНТИЯ И ВОЗВРАТ</li>
            <li>ЧАСТЫЕ ВОПРОСЫ</li>
            <li>О БРЕНДЕ</li>
            <li>КОНТАКТЫ</li>
        </ul>
    </div>

    <main class="product-page">
        <nav class="breadcrumbs">
        <a href="/home">Главная</a> / <a href="/catalog">Каталог</a> / <a href="/catalog/linen">Постельное белье</a> / Страница товара
    </nav>



    <!--БЛОК, КУДА ПОМЕЩАЕТСЯ ВСЯ ИНФА О ТОВАРЕ-->
    <div class="product-page" id="product-details"></div>
    </main>




    <footer class="site-footer">
        <div class="footer-content">
            <!-- Левая часть -->
            <div class="footer-content">
                <!-- Левая часть -->
                <div class="footer-left">
                    <img src="assets/icons/footer/mollen_white.png" alt="Mollen Logo" class="footer-logo">
                    <!-- Новый div для текста -->
                    <div class="copyright">
                        <p>2021 &copy; Mollen.<br>Все права защищены.</p>
                    </div>
                </div>
    
            <!-- Центральная часть -->
            <div class="footer-center">
                <ul>
                    <li><a href="#">Постельное белье</a></li>
                    <li><a href="#">Одежда</a></li>
                    <li><a href="#">Ароматы</a></li>
                    <li><a href="#">Аксессуары</a></li>
                </ul>
                <ul>
                    <li><a href="#">Размерный гид</a></li>
                    <li><a href="#">Доставка и оплата</a></li>
                    <li><a href="#">Гарантия и возврат</a></li>
                    <li><a href="#">Частые вопросы</a></li>
                </ul>
            </div>
    
           <!-- Правая часть -->
        <div class="footer-right">
            <p><strong>8 800 222 22 22</strong></p>
            <a href="#" id="call-request-btn" class="call-request-link">Заказать звонок</a>
            <div class="social-icons">
                <a href="#" class="icon vk"><img src="assets/icons/footer/vk.png" alt="VK"></a>
                <a href="#" class="icon pinterest"><img src="assets/icons/footer/pinterest.png" alt="Pinterest"></a>
                <a href="#" class="icon telegram"><img src="assets/icons/footer/telegram.png" alt="Telegram"></a>
                <a href="#" class="icon facebook"><img src="assets/icons/footer/facebook.png" alt="Facebook"></a>
                <a href="#" class="icon youtube"><img src="assets/icons/footer/youtube.png" alt="YouTube"></a>
                <a href="#" class="icon instagram"><img src="assets/icons/footer/instagram.png" alt="Instagram"></a>
            </div>
        </div>

        <!-- Попап -->
        <div id="popup-overlay" class="popup-overlay hidden">
            <div class="popup-content">
                <span id="close-popup" class="close-popup">&times;</span>
                <h2>ЗАКАЗАТЬ ЗВОНОК</h2>
                <form>
                    <div class="input-group">
                        <label for="name">Имя *</label>
                        <input type="text" id="name" placeholder="Иван" required>
                    </div>
                    <div class="input-group">
                        <label for="phone">Телефон *</label>
                        <input type="tel" id="phone" placeholder="+7 (___) ___ - __ - __" required>
                    </div>
                    <div class="input-group">
                        <label for="comment">Комментарий</label>
                        <input type="text" id="comment" placeholder="Напишите какой вопрос у вас возник">
                    </div>
                    <div class="agreement">
                        <input type="checkbox" id="agree" required>
                        <label for="agree">Я согласен на <a href="#">обработку персональных данных</a></label>
                    </div>
                    <button type="submit" class="submit-btn">ОТПРАВИТЬ</button>
                </form>
            </div>
        </div>
        </div>
    </footer>






    <script>
       async function loadProduct() {
    const urlParams = new URLSearchParams(window.location.search);
    const productId = urlParams.get('id');

    const response = await fetch('catalog.json');
    const products = await response.json();
    const product = products.find(p => p.id === parseInt(productId));

    if (product) {
        const productDiv = document.getElementById('product-details');
        productDiv.innerHTML = `
            <div class="image-container">
                <img src="${product.image}" alt="${product.name}" class="image">
            </div>
            <div class="text-container">
                <div class="product-name"><h2>${product.name}</h2></div>
                <div class="availability"><p>${product.availability}</p></div>
                <div class="description"><p>${product.description}</p></div>
                <div class="size"><p><span>Размер, см:</span> ${product.size}</p></div>
                <div class="material"><p><span>Ткань:</span> ${product.material}</p></div>
                <div class="price"><p>${product.price} ₽</p></div>
                <button id="add-to-cart" class="add-to-cart-button">
                        <span id="decrease-quantity" class="quantity-control">-</span>
                        <span id="product-quantity" class="product-quantity">1</span>
                        <span id="increase-quantity" class="quantity-control">+</span>
                        <span>В КОРЗИНУ</span>
                    </button>
            </div>
        `;


        // Управление количеством
        let quantity = 1;

const decreaseButton = document.getElementById('decrease-quantity');
const increaseButton = document.getElementById('increase-quantity');
const quantityDisplay = document.getElementById('product-quantity');

decreaseButton.addEventListener('click', (event) => {
    event.stopPropagation(); // Останавливаем всплытие клика, чтобы не срабатывало добавление в корзину
    if (quantity > 1) {
        quantity--;
        quantityDisplay.textContent = quantity;
    }
});

increaseButton.addEventListener('click', (event) => {
    event.stopPropagation(); // Останавливаем всплытие
    quantity++;
    quantityDisplay.textContent = quantity;
});

        // Add to Cart functionality
        document.getElementById('add-to-cart').addEventListener('click', () => {
            addToCart({
                id: product.id,
                name: product.name,
                price: product.price,
                image: product.image,
                size: product.size,
                material: product.material,
                quantity: 1
            });
        });
    } else {
        document.getElementById('product-details').innerHTML = '<p>Товар не найден.</p>';
    }
}

loadProduct();

    </script>

<script src="assets/scripts/script_2_1.js"></script>
<script src="assets/scripts/load_product.js"></script>
<script src="assets/scripts/pop-up.js"></script>    
<script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
<script src="assets/scripts/product-page.js"></script>
<script src="assets/scripts/cart.js"></script>

</body>
</html>